<script>
        function showSection(sectionId) {
            // 1. Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(sec => sec.classList.remove('active'));

            // 2. Show the target section
            const target = document.getElementById(sectionId);
            if (target) {
                target.classList.add('active');
            }

            // 3. Update Sidebar Buttons
            // We remove 'active' from all buttons
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // We find the button that corresponds to the section and make it active
            // Note: This relies on the button having the onclick="showSection('id')"
            // We look for the button that has the matching onclick attribute
            const activeButton = Array.from(buttons).find(btn => 
                btn.getAttribute('onclick').includes(`'${sectionId}'`)
            );
            
            if (activeButton) {
                activeButton.classList.add('active');
            }
        }

        /* --- BROWSER LOGIC --- */
        function loadUrl() {
            let url = document.getElementById("urlInput").value;
            // Basic URL validation
            if (!url) return;
            if (!url.startsWith("http")) url = "https://" + url;
            
            // Set the iframe source
            document.getElementById("web-frame").src = url;
        }

        function handleEnter(e) {
            if (e.key === "Enter") loadUrl();
        }

        /* --- GAME LOGIC --- */
        function launchGame(url) {
            document.querySelector('#games .dashboard-grid').style.display = 'none';
            document.getElementById('game-player').style.display = 'flex'; // Changed to flex for alignment
            document.getElementById('game-player').style.flexDirection = 'column';
            document.getElementById('game-frame').src = url;
        }

        function closeGame() {
            document.getElementById('game-frame').src = "";
            document.querySelector('#games .dashboard-grid').style.display = 'grid';
            document.getElementById('game-player').style.display = 'none';
        }
    </script>
