<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyHall Dashboard</title>
    <style>
        /* --- CSS VARIABLES & THEMES --- */
        :root {
            /* Light Theme (Default) */
            --bg-color: #f4f4f9;
            --sidebar-bg: #ffffff;
            --text-primary: #333333;
            --card-bg: #ffffff;
            --accent: #4a90e2; /* School Blue */
            --border: #ddd;
        }

        [data-theme="dark"] {
            /* Dark Theme */
            --bg-color: #121212;
            --sidebar-bg: #1e1e1e;
            --text-primary: #e0e0e0;
            --card-bg: #2c2c2c;
            --accent: #bb86fc; /* Fun Purple */
            --border: #444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }

        body { display: flex; height: 100vh; background-color: var(--bg-color); color: var(--text-primary); transition: background 0.3s; }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            padding: 20px;
            transition: background 0.3s;
        }

        .logo { font-size: 1.5rem; font-weight: bold; margin-bottom: 30px; color: var(--accent); }

        .nav-btn {
            background: none; border: none;
            color: var(--text-primary);
            padding: 12px; text-align: left;
            cursor: pointer; border-radius: 8px;
            margin-bottom: 5px; font-size: 1rem;
            opacity: 0.7; transition: 0.2s;
        }
        .nav-btn:hover { opacity: 1; background-color: rgba(0,0,0,0.05); }
        .nav-btn.active { opacity: 1; background-color: var(--accent); color: white; }

        /* Mode Specific Visibility */
        .school-only, .fun-only { display: none; }
        
        /* If body has class 'mode-school', show school items */
        body.mode-school .school-only { display: block; }
        /* If body has class 'mode-fun', show fun items */
        body.mode-fun .fun-only { display: block; }

        .settings-area { margin-top: auto; border-top: 1px solid var(--border); padding-top: 20px; }

        /* --- MAIN CONTENT --- */
        .main-content { flex: 1; padding: 40px; overflow-y: auto; }
        .section { display: none; animation: fadeIn 0.3s; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2 { margin-bottom: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 10px; display: inline-block; }

        /* --- TOOLS: TODO LIST --- */
        .todo-input-group { display: flex; gap: 10px; margin-bottom: 20px; }
        .todo-input-group input { flex: 1; padding: 10px; border: 1px solid var(--border); border-radius: 5px; }
        .todo-list { list-style: none; }
        .todo-item { 
            background: var(--card-bg); padding: 10px; margin-bottom: 5px; 
            border: 1px solid var(--border); border-radius: 5px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .delete-btn { color: red; cursor: pointer; font-weight: bold; padding: 0 10px; }

        /* --- TOOLS: CALCULATOR --- */
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; max-width: 300px; }
        .calc-btn { 
            padding: 20px; font-size: 1.2rem; cursor: pointer; 
            background: var(--card-bg); border: 1px solid var(--border); border-radius: 5px;
            color: var(--text-primary);
        }
        .calc-display { 
            grid-column: span 4; padding: 15px; text-align: right; font-size: 1.5rem; 
            background: var(--card-bg); border: 1px solid var(--border); margin-bottom: 10px; 
            color: var(--text-primary);
        }

        /* --- TOOLS: NOTES --- */
        textarea.notes-area {
            width: 100%; height: 200px; padding: 15px;
            background: var(--card-bg); color: var(--text-primary);
            border: 1px solid var(--border); border-radius: 10px; resize: vertical;
        }

        /* --- TOOLS: PERIODIC TABLE (Simple) --- */
        .pt-container { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); gap: 5px; 
        }
        .element { 
            border: 1px solid var(--border); padding: 5px; text-align: center; 
            background: var(--card-bg); border-radius: 5px; cursor: pointer;
        }
        .element strong { display: block; font-size: 1.2rem; color: var(--accent); }
        .element small { font-size: 0.7rem; }

        /* --- IFRAMES --- */
        iframe { width: 100%; height: 500px; border: none; border-radius: 10px; background: white; }

    </style>
</head>
<body class="mode-school" data-theme="light">

    <nav class="sidebar">
        <div class="logo">üìö StudyHall</div>
        
        <button class="nav-btn school-only active" onclick="showSection('school-home')">üè† Home</button>
        <button class="nav-btn school-only" onclick="showSection('todo')">‚úÖ To-Do List</button>
        <button class="nav-btn school-only" onclick="showSection('math')">üìê Math</button>
        <button class="nav-btn school-only" onclick="showSection('science')">üß¨ Science</button>
        <button class="nav-btn school-only" onclick="showSection('ela')">üìñ ELA</button>
        <button class="nav-btn school-only" onclick="showSection('history')">üìú History</button>

        <button class="nav-btn fun-only" onclick="showSection('fun-home')">üéÆ Fun Home</button>
        <button class="nav-btn fun-only" onclick="showSection('games')">üïπÔ∏è Games</button>
        <button class="nav-btn fun-only" onclick="showSection('chatterbox')">üí¨ ChatterBox</button>
        <button class="nav-btn fun-only" onclick="showSection('socials')">üì± Socials</button>

        <div class="settings-area">
            <button class="nav-btn" onclick="showSection('settings')">‚öôÔ∏è Settings</button>
        </div>
    </nav>

    <main class="main-content">

        <div id="school-home" class="section active">
            <h2>Welcome, Student.</h2>
            <p>Select a subject to begin your study session.</p>
        </div>

        <div id="todo" class="section">
            <h2>Assignment Tracker</h2>
            <div class="todo-input-group">
                <input type="text" id="newTodo" placeholder="Add assignment...">
                <button onclick="addTodo()" style="padding:0 20px;">Add</button>
            </div>
            <ul id="todoList" class="todo-list"></ul>
        </div>

        <div id="math" class="section">
            <h2>Mathematics</h2>
            <div style="display:flex; gap: 20px; flex-wrap:wrap;">
                <div style="flex:1;">
                    <h3>Notes</h3>
                    <textarea class="notes-area" placeholder="Type math formulas here..."></textarea>
                </div>
                <div>
                    <h3>Calculator</h3>
                    <input type="text" id="calcDisplay" class="calc-display" readonly>
                    <div class="calc-grid">
                        <button class="calc-btn" onclick="calc('7')">7</button>
                        <button class="calc-btn" onclick="calc('8')">8</button>
                        <button class="calc-btn" onclick="calc('9')">9</button>
                        <button class="calc-btn" onclick="calc('/')">/</button>
                        <button class="calc-btn" onclick="calc('4')">4</button>
                        <button class="calc-btn" onclick="calc('5')">5</button>
                        <button class="calc-btn" onclick="calc('6')">6</button>
                        <button class="calc-btn" onclick="calc('*')">*</button>
                        <button class="calc-btn" onclick="calc('1')">1</button>
                        <button class="calc-btn" onclick="calc('2')">2</button>
                        <button class="calc-btn" onclick="calc('3')">3</button>
                        <button class="calc-btn" onclick="calc('-')">-</button>
                        <button class="calc-btn" onclick="calc('0')">0</button>
                        <button class="calc-btn" onclick="calc('.')">.</button>
                        <button class="calc-btn" onclick="calc('=')">=</button>
                        <button class="calc-btn" onclick="calc('+')">+</button>
                        <button class="calc-btn" onclick="calc('C')" style="background:#ffcccc; color:black;">C</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="science" class="section">
            <h2>Science</h2>
            <h3>Lab Notes</h3>
            <textarea class="notes-area" placeholder="Type hypothesis here..." style="margin-bottom:20px;"></textarea>
            <h3>Reference Table</h3>
            <div class="pt-container">
                <div class="element"><strong>H</strong><small>1</small></div>
                <div class="element"><strong>He</strong><small>2</small></div>
                <div class="element"><strong>Li</strong><small>3</small></div>
                <div class="element"><strong>Be</strong><small>4</small></div>
                <div class="element"><strong>B</strong><small>5</small></div>
                <div class="element"><strong>C</strong><small>6</small></div>
                <div class="element"><strong>N</strong><small>7</small></div>
                <div class="element"><strong>O</strong><small>8</small></div>
            </div>
            <p style="margin-top:10px; color:grey;">(Simplified table for quick reference)</p>
        </div>

        <div id="ela" class="section">
            <h2>English Language Arts</h2>
            <textarea class="notes-area" placeholder="Essay draft..."></textarea>
        </div>

        <div id="history" class="section">
            <h2>History</h2>
            <textarea class="notes-area" placeholder="Timeline notes..."></textarea>
        </div>

        <div id="fun-home" class="section">
            <h2>Break Time!</h2>
            <p>Welcome to the secret lounge.</p>
        </div>

        <div id="games" class="section">
            <h2>Games Library</h2>
            <p>Select a game to embed (Placeholder)</p>
            <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:20px; margin-top:20px;">
                <div style="background:var(--card-bg); padding:20px; border-radius:10px; border:1px solid var(--border);">
                    <h3>Bing Games</h3>
                    <button onclick="alert('Load game url here')">Play</button>
                </div>
                <div style="background:var(--card-bg); padding:20px; border-radius:10px; border:1px solid var(--border);">
                    <h3>Slope</h3>
                    <button onclick="alert('Load game url here')">Play</button>
                </div>
            </div>
        </div>

        <div id="chatterbox" class="section">
            <h2 style="margin-bottom:10px;">ChatterBox</h2>
            <iframe src="https://whatever-works123.github.io/Chatter-Box/"></iframe>
        </div>

        <div id="socials" class="section">
            <h2>Social Feed</h2>
            <p>Connect your account below.</p>
            <iframe src="https://bing.com"></iframe>
        </div>

        <div id="settings" class="section">
            <h2>Settings</h2>
            
            <div style="background: var(--card-bg); padding: 20px; border-radius: 10px; border: 1px solid var(--border); margin-bottom: 20px;">
                <h3>üîí Stealth Mode</h3>
                <p style="margin-bottom:10px;">Toggle between School and Fun mode.</p>
                <button onclick="toggleMode()" style="padding:10px 20px; cursor:pointer;">Switch Mode</button>
            </div>

            <div style="background: var(--card-bg); padding: 20px; border-radius: 10px; border: 1px solid var(--border);">
                <h3>üé® Appearance</h3>
                <p style="margin-bottom:10px;">Switch between Light and Dark themes.</p>
                <button onclick="toggleTheme()" style="padding:10px 20px; cursor:pointer;">Toggle Theme</button>
            </div>
        </div>

    </main>

    <script>
        // --- NAVIGATION LOGIC ---
        function showSection(id) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            // Show target
            document.getElementById(id).classList.add('active');
            
            // Highlight button
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            // Find button with matching onclick
            const btn = Array.from(document.querySelectorAll('.nav-btn')).find(b => b.getAttribute('onclick').includes(id));
            if(btn) btn.classList.add('active');
        }

        // --- SETTINGS LOGIC ---
        function toggleMode() {
            const body = document.body;
            if (body.classList.contains('mode-school')) {
                body.classList.remove('mode-school');
                body.classList.add('mode-fun');
                showSection('fun-home'); // Auto switch to fun home
            } else {
                body.classList.remove('mode-fun');
                body.classList.add('mode-school');
                showSection('school-home'); // Auto switch to school home
            }
        }

        function toggleTheme() {
            const body = document.body;
            const current = body.getAttribute('data-theme');
            body.setAttribute('data-theme', current === 'light' ? 'dark' : 'light');
        }

        // --- TODO LOGIC ---
        function addTodo() {
            const input = document.getElementById('newTodo');
            const text = input.value;
            if (!text) return;

            const li = document.createElement('li');
            li.className = 'todo-item';
            li.innerHTML = `<span>${text}</span> <span class="delete-btn" onclick="this.parentElement.remove()">√ó</span>`;
            
            document.getElementById('todoList').appendChild(li);
            input.value = '';
        }

        // --- CALCULATOR LOGIC ---
        function calc(val) {
            const display = document.getElementById('calcDisplay');
            if (val === 'C') {
                display.value = '';
            } else if (val === '=') {
                try {
                    display.value = eval(display.value);
                } catch {
                    display.value = 'Error';
                }
            } else {
                display.value += val;
            }
        }
    </script>
</body>
</html>
